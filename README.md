# ๐ค ุจูุช ุชูุบุฑุงู ูุชุญููู ุงูููุณููู ูู Spotify

ุจูุช ุชูุบุฑุงู ูุชุทูุฑ ูุจูู ุจูุบุฉ Python ุจุงุณุชุฎุฏุงู ููุชุจุฉ `aiogram 3.x` ูุน ูุธุงู ุฅุฏุงุฑุฉ ุดุงูู (Admin Panel) ููุธุงู ุงุดุชุฑุงู ุฅุฌุจุงุฑู.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ูุธุงู ุงูุงุดุชุฑุงู ุงูุฅุฌุจุงุฑู
- ููุน ุงููุณุชุฎุฏููู ูู ุงุณุชุฎุฏุงู ุงูุจูุช ูุจู ุงูุงุดุชุฑุงู ูู ููุงุฉ ุงููุทูุฑ
- ุฅููุงููุฉ ุชุบููุฑ ุฑุงุจุท ุงูููุงุฉ ูู ููุญุฉ ุงูุชุญูู
- ุฒุฑ ุชุญูู ุฐูู ูู ุงูุงุดุชุฑุงู

### ๐ ููุญุฉ ุชุญูู ุงููุทูุฑ
- **๐ ุงูุฅุญุตุงุฆูุงุช**: ุนุฑุถ ุนุฏุฏ ุงูุฃุนุถุงุก ุงููููุ ุงููุดุทููุ ูุงููุญุธูุฑูู
- **โ๏ธ ุชุนุฏูู ุฑุณุงูุฉ ุงูุชุฑุญูุจ**: ุชุฎุตูุต ุงูุฑุณุงูุฉ ุงูุชู ูุฑุงูุง ุงููุณุชุฎุฏููู ุนูุฏ /start
- **๐ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช**: ุชูุนูู/ุชุนุทูู ุฅุดุนุงุฑุงุช ุงูุฏุฎูู ูุงูุญุธุฑ
- **๐ ุชุบููุฑ ุงูููุงุฉ**: ุชุนุฏูู ุฑุงุจุท ุงูููุงุฉ ุงูุฅุฌุจุงุฑูุฉ
- **๐ข ูุธุงู ุงูุฅุฐุงุนุฉ**: ุฅุฑุณุงู ุฑุณุงุฆู ุฌูุงุนูุฉ ูุฌููุน ุงููุณุชุฎุฏููู

### ๐ฌ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุฐูู
- **ุฅุดุนุงุฑ ุงูุนุถู ุงูุฌุฏูุฏ**: ุฅุฑุณุงู ุชูุงุตูู ูุงููุฉ ูููุทูุฑ ุนูุฏ ุงูุถูุงู ุนุถู ุฌุฏูุฏ
  - ุงูุงุณู ุงููุงูู
  - ุงููุนุฑู (@username)
  - ุงูุขูุฏู ุงูุฑููู
  - ุชุงุฑูุฎ ุงูุงูุถูุงู
- **ุฅุดุนุงุฑ ุงูุญุธุฑ**: ุฅุฎุทุงุฑ ููุฑู ุนูุฏ ููุงู ูุณุชุฎุฏู ุจุญุธุฑ ุงูุจูุช

### ๐ต ูุธููุฉ ุงูุชุญููู
- ุฌุงูุฒ ููุชูุงูู ูุน Spotify API
- ุฏุนู ุชุญููู ุงูุฃุบุงูู ูู ุฑูุงุจุท Spotify (ูุญุชุงุฌ ุชูุนูู)

## ๐ ูููู ุงููุดุฑูุน

```
spotify-bot/
โโโ bot.py              # ุงูููู ุงูุฑุฆูุณู ูุชุดุบูู ุงูุจูุช
โโโ handlers.py         # ูุนุงูุฌุงุช ุงูุฑุณุงุฆู ูุงูุฃูุงูุฑ
โโโ database.py         # ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite
โโโ keyboards.py        # ููุญุงุช ุงูููุงุชูุญ (Inline Keyboards)
โโโ requirements.txt    # ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ .env.example        # ูููุฐุฌ ููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
โโโ README.md          # ูุฐุง ุงูููู
```

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ูุชุทูุจุงุช ุงูุชุดุบูู
- Python 3.9 ุฃู ุฃุญุฏุซ
- pip (ูุฏูุฑ ุญุฒู Python)

### 2. ุชุซุจูุช ุงูููุชุจุงุช

```bash
pip install -r requirements.txt
```

### 3. ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

ูู ุจุฅูุดุงุก ููู `.env` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู:

```bash
cp .env.example .env
```

ุซู ูู ุจุชุนุฏูู ุงูููู ูุฃุถู ุงูุจูุงูุงุช ุงูุชุงููุฉ:

```env
# ุชููู ุงูุจูุช ูู @BotFather
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11

# ุขูุฏู ุงูุชูุบุฑุงู ุงูุฎุงุต ุจู (ูููู ุงูุญุตูู ุนููู ูู @userinfobot)
ADMIN_ID=123456789

# ูุนุฑู ููุงุชู (ุงุฎุชูุงุฑู - ูููู ุชุบููุฑู ูู ููุญุฉ ุงูุชุญูู)
CHANNEL_USERNAME=@your_channel

# ูุณุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
DATABASE_PATH=bot_database.db
```

### 4. ุงูุญุตูู ุนูู ุชููู ุงูุจูุช

1. ุงูุชุญ ูุญุงุฏุซุฉ ูุน [@BotFather](https://t.me/BotFather)
2. ุฃุฑุณู ุงูุฃูุฑ `/newbot`
3. ุงุชุจุน ุงูุชุนูููุงุช ูุงุฎุชุฑ ุงุณู ููุนุฑู ููุจูุช
4. ุงูุณุฎ ุงูุชููู ุงูุฐู ุณูุฑุณูู ูู BotFather

### 5. ุงูุญุตูู ุนูู ุขูุฏู ุงูุชูุบุฑุงู

1. ุงูุชุญ ูุญุงุฏุซุฉ ูุน [@userinfobot](https://t.me/userinfobot)
2. ุงุถุบุท `/start`
3. ุณูุฑุณู ูู ุงูุจูุช ุขูุฏูู ุงูุฑููู

### 6. ุชุดุบูู ุงูุจูุช

```bash
python bot.py
```

ุฅุฐุง ุธูุฑุช ุงูุฑุณุงูุฉ ุงูุชุงููุฉุ ูุงูุจูุช ูุนูู ุจูุฌุงุญ:
```
๐ ุงูุจูุช ูุนูู ุงูุขู...
โ ุชู ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

## ๐ ุฏููู ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู ุงูุนุงุฏููู

1. **ุงูุจุฏุงูุฉ**: ุฃุฑุณู `/start` ููุจูุช
2. **ุงูุงุดุชุฑุงู**: ุฅุฐุง ูู ุชูู ูุดุชุฑูุงู ูู ุงูููุงุฉุ ุงุถุบุท ุนูู ุฒุฑ ุงูุงุดุชุฑุงู
3. **ุงูุชุญููู**: ุฃุฑุณู ุฑุงุจุท ุฃุบููุฉ ูู Spotify

### ูููุทูุฑ (Admin)

#### ุงููุตูู ูููุญุฉ ุงูุชุญูู
```
/admin
```

#### ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ูู ููุญุฉ ุงูุชุญูู:

1. **๐ ุงูุฅุญุตุงุฆูุงุช**
   - ุนุฑุถ ุนุฏุฏ ุงูุฃุนุถุงุก ุงูุฅุฌูุงูู
   - ุนุฏุฏ ุงูุฃุนุถุงุก ุงููุดุทูู
   - ุนุฏุฏ ุงููุญุธูุฑูู

2. **โ๏ธ ุชุนุฏูู ุฑุณุงูุฉ ุงูุชุฑุญูุจ**
   - ุงุถุบุท ุนูู ุงูุฒุฑ
   - ุฃุฑุณู ุงููุต ุงูุฌุฏูุฏ
   - ุณูุชู ุชุญุฏูุซ ุงูุฑุณุงูุฉ ุชููุงุฆูุงู

3. **๐ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช**
   - ุชูุนูู/ุชุนุทูู ุฅุดุนุงุฑุงุช ุงูุฏุฎูู
   - ุชูุนูู/ุชุนุทูู ุฅุดุนุงุฑุงุช ุงูุญุธุฑ

4. **๐ ุชุบููุฑ ุฑุงุจุท ุงูููุงุฉ**
   - ุงุถุบุท ุนูู ุงูุฒุฑ
   - ุฃุฑุณู ูุนุฑู ุงูููุงุฉ ุงูุฌุฏูุฏ (ูุซุงู: @channelname)

5. **๐ข ุฅุฑุณุงู ุฅุฐุงุนุฉ**
   - ุงุถุบุท ุนูู ุงูุฒุฑ
   - ุงูุชุจ ุงูุฑุณุงูุฉ
   - ูุนุงููุฉ ูุชุฃููุฏ ุงูุฅุฑุณุงู

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูุณุชุฎุฏู ุงูุจูุช SQLite ูุน ุซูุงุซุฉ ุฌุฏุงูู ุฑุฆูุณูุฉ:

### ุฌุฏูู ุงููุณุชุฎุฏููู (users)
```sql
- user_id: ุขูุฏู ุงููุณุชุฎุฏู (ููุชุงุญ ุฃุณุงุณู)
- username: ูุนุฑู ุงูุชูุบุฑุงู
- first_name: ุงูุงุณู ุงูุฃูู
- last_name: ุงูุงุณู ุงูุฃุฎูุฑ
- joined_date: ุชุงุฑูุฎ ุงูุงูุถูุงู
- is_blocked: ุญุงูุฉ ุงูุญุธุฑ (0 ุฃู 1)
- last_active: ุขุฎุฑ ูุดุงุท
```

### ุฌุฏูู ุงูุฅุนุฏุงุฏุงุช (settings)
```sql
- key: ููุชุงุญ ุงูุฅุนุฏุงุฏ
- value: ูููุฉ ุงูุฅุนุฏุงุฏ
```

### ุฌุฏูู ุงูุฅุญุตุงุฆูุงุช (stats)
```sql
- id: ูุนุฑู ุชููุงุฆู
- stat_type: ููุน ุงูุฅุญุตุงุฆูุฉ
- count: ุงูุนุฏุฏ
- date: ุงูุชุงุฑูุฎ
```

## ๐ ุงูุฃูุงู

### ุญูุงูุฉ ุงูุชููู
- โ ุงูุชููู ูุญููุธ ูู ููู `.env` ูููุณ ูู ุงูููุฏ
- โ ููู `.env` ูุถุงู ูู `.gitignore` (ูุง ูุชู ุฑูุนู ุนูู GitHub)

### ุญูุงูุฉ ููุญุฉ ุงูุชุญูู
- โ ุงูุชุญูู ูู ุขูุฏู ุงููุทูุฑ ูู ูู ุนูููุฉ
- โ ุฑูุถ ุงูุทูุจุงุช ูู ูุณุชุฎุฏููู ุบูุฑ ูุตุฑุญ ููู

### ุญูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงุณุชุฎุฏุงู parameterized queries ูููุน SQL Injection
- โ ุงูุงุชุตุงูุงุช async ูุชุญุณูู ุงูุฃุฏุงุก

## ๐ต ุชูุนูู ููุฒุฉ ุงูุชุญููู ูู Spotify

ูุชูุนูู ุงูุชุญููู ุงููุนูู ูู Spotifyุ ุงุชุจุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:

### 1. ุชุซุจูุช spotdl
```bash
pip install spotdl
```

### 2. ุงูุญุตูู ุนูู API Credentials ูู Spotify

1. ุณุฌู ูู [Spotify Developer Dashboard](https://developer.spotify.com/dashboard)
2. ุฃูุดุฆ ุชุทุจูู ุฌุฏูุฏ
3. ุงุญุตู ุนูู `Client ID` ู `Client Secret`

### 3. ุชุนุฏูู ููุฏ ุงูุชุญููู

ูู ููู `handlers.py`ุ ุงุจุญุซ ุนู ุฏุงูุฉ `spotify_handler` ููุนูู ุงูููุฏ ุงููุนูู:

```python
from spotdl import Spotdl

@router.message(F.text.contains("spotify.com"))
async def spotify_handler(message: Message):
    # ... ุงูููุฏ ุงูุณุงุจู ...
    
    try:
        # ุชูุนูู spotdl
        spotdl = Spotdl(
            client_id='YOUR_CLIENT_ID',
            client_secret='YOUR_CLIENT_SECRET'
        )
        
        # ุชุญููู ุงูุฃุบููุฉ
        songs = spotdl.search([message.text])
        downloaded_song = spotdl.download(songs[0])
        
        # ุฅุฑุณุงู ุงูููู ุงูุตูุชู
        await message.answer_audio(
            audio=FSInputFile(downloaded_song),
            caption="โ ุชู ุงูุชุญููู ุจูุฌุงุญ!"
        )
        
    except Exception as e:
        await message.answer(f"โ ุญุฏุซ ุฎุทุฃ: {str(e)}")
```

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงูุจูุช ูุง ูุณุชุฌูุจ
1. ุชุญูู ูู ุตุญุฉ ุงูุชููู ูู ููู `.env`
2. ุชุฃูุฏ ูู ุฃู ุงูุจูุช ูุนูู (`python bot.py`)
3. ุฑุงุฌุน ุงูุณุฌูุงุช (logs) ููุฃุฎุทุงุก

### ุงูุฅุดุนุงุฑุงุช ูุง ุชุตู
1. ุชุญูู ูู `ADMIN_ID` ูู ููู `.env`
2. ุชุฃูุฏ ูู ุชูุนูู ุงูุฅุดุนุงุฑุงุช ูู ููุญุฉ ุงูุชุญูู
3. ุชุฃูุฏ ุฃูู ุจุฏุฃุช ูุญุงุฏุซุฉ ูุน ุงูุจูุช ูุณุจูุงู

### ุฎุทุฃ ูู ุงูุงุดุชุฑุงู ุงูุฅุฌุจุงุฑู
1. ุชุญูู ูู ุตุญุฉ `CHANNEL_USERNAME` (ูุฌุจ ุฃู ูุจุฏุฃ ุจู @)
2. ุชุฃูุฏ ุฃู ุงูุจูุช ูุณุคูู (admin) ูู ุงูููุงุฉ
3. ุชุฃูุฏ ูู ุฃู ุงูููุงุฉ ุนุงูุฉ (public)

### ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุงุญุฐู ููู `bot_database.db`
2. ุฃุนุฏ ุชุดุบูู ุงูุจูุช ููุชู ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ

## ๐ ููุงุญุธุงุช ูููุฉ

- **ุงูุฅุดุนุงุฑุงุช**: ุชุฃูุฏ ูู ุจุฏุก ูุญุงุฏุซุฉ ูุน ุงูุจูุช ูุจู ุชููุน ุงูุฅุดุนุงุฑุงุช
- **ุงูููุงุฉ**: ูุฌุจ ุฃู ูููู ุงูุจูุช ูุณุคูู ูู ุงูููุงุฉ ููุชุญูู ูู ุงูุงุดุชุฑุงู
- **ุงูุฅุฐุงุนุฉ**: ูุฏ ูุณุชุบุฑู ุฅุฑุณุงู ุงูุฅุฐุงุนุฉ ููุชุงู ุจูุงุกู ุนูู ุนุฏุฏ ุงููุณุชุฎุฏููู

## โ๏ธ ุงููุดุฑ ุนูู Railway (ุงูุงุณุชุถุงูุฉ ุงููุฌุงููุฉ)

ููููู ูุดุฑ ุงูุจูุช ุนูู Railway.app ููุนูู 24/7 ูุฌุงูุงู!

### ๐ ุงููุดุฑ ุงูุณุฑูุน:

1. **ุณุฌู ูู [Railway.app](https://railway.app)**
2. **ุงุฑุจุท ุญุณุงุจ GitHub**
3. **ุงุฎุชุฑ ุงููุดุฑูุน**
4. **ุฃุถู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ:**
   - `BOT_TOKEN`
   - `ADMIN_ID`
   - `CHANNEL_USERNAME`
   - `DATABASE_PATH`
5. **ุงุถุบุท Deploy!**

### ๐ ุงูุฃุฏูุฉ ุงูุชูุตูููุฉ:

- **[ุฏููู Railway ุงููุงูู](RAILWAY_DEPLOYMENT.md)** - ุดุฑุญ ุฎุทูุฉ ุจุฎุทูุฉ
- **[ููุงุฑูุฉ ููุตุงุช ุงูุงุณุชุถุงูุฉ](DEPLOYMENT_COMPARISON.md)** - Railway vs Heroku vs VPS

### โก ูููุงุช Railway ุงููุถููุฉ:

- `railway.json` - ุชูููู Railway
- `Procfile` - ุฃูุงูุฑ ุงูุชุดุบูู
- `runtime.txt` - ุฅุตุฏุงุฑ Python
- `nixpacks.toml` - ุฅุนุฏุงุฏุงุช Nixpacks

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

- [ ] ุฅุถุงูุฉ ุฏุนู ูุงูู ูุชุญููู ูู Spotify
- [ ] ูุธุงู VIP ูููุณุชุฎุฏููู ุงููููุฒูู
- [ ] ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ (ุฑุณูู ุจูุงููุฉ)
- [ ] ุฏุนู ุชุญููู ูู ููุตุงุช ุฃุฎุฑู (YouTube Musicุ Apple Music)
- [ ] ูุธุงู ููุงุท ูููุงูุขุช
- [x] ุฏุนู ุงููุดุฑ ุนูู Railway.app โ

## ๐ง ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ ุฃู ูุฏูู ุงุณุชูุณุงุฑุ ููููู:
1. ูุชุญ Issue ุนูู GitHub
2. ูุฑุงุฌุนุฉ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ ุฃุนูุงู
3. ุงูุชูุงุตู ูุน ุงููุทูุฑ

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ูุงูุชุฌุงุฑู.

---

**ุชู ุงูุชุทููุฑ ุจู โค๏ธ ุจุงุณุชุฎุฏุงู Python ู aiogram**
